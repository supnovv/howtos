
## 3.4 Expressions

The basic expressions in Lua are the following:
```
exp ::= prefixexp
exp ::= nil | false | true
exp ::= Numeral
exp ::= LiteralString
exp ::= functiondef
exp ::= tableconstructor
exp ::= ‘...’
exp ::= exp binop exp
exp ::= unop exp
prefixexp ::= var | functioncall | ‘(’ exp ‘)’
```
Numerals and literal strings are explained in §3.1; variables are explained in §3.2; 
function definitions are explained in §3.4.11; function calls are explained in §3.4.10; 
table constructors are explained in §3.4.9. 
Vararg expressions, denoted by three dots ('...'), can only be used when directly inside a vararg function; 
they are explained in §3.4.11.

Binary operators comprise arithmetic operators (see §3.4.1), bitwise operators (see §3.4.2), 
relational operators (see §3.4.4), logical operators (see §3.4.5), and the concatenation operator (see §3.4.6). 
Unary operators comprise the unary minus (see §3.4.1), the unary bitwise not (see §3.4.2), 
the unary logical not (see §3.4.5), and the unary length operator (see §3.4.7).

Both function calls and vararg expressions can result in multiple values. 
If a function call is used as a statement (see §3.3.6), then its return list is adjusted to zero elements, 
thus discarding all returned values. 
If an expression is used as the last (or the only) element of a list of expressions, 
then no adjustment is made (unless the expression is enclosed in parentheses). 
In all other contexts, Lua adjusts the result list to one element, 
either discarding all values except the first one or adding a single nil if there are no values.

Here are some examples:
```
f()                -- adjusted to 0 results
g(f(), x)          -- f() is adjusted to 1 result
g(x, f())          -- g gets x plus all results from f()
a,b,c = f(), x     -- f() is adjusted to 1 result (c gets nil)
a,b = ...          -- a gets the first vararg parameter, b gets
                   -- the second (both a and b can get nil if there
                   -- is no corresponding vararg parameter)
     
a,b,c = x, f()     -- f() is adjusted to 2 results
a,b,c = f()        -- f() is adjusted to 3 results
return f()         -- returns all results from f()
return ...         -- returns all received vararg parameters
return x,y,f()     -- returns x, y, and all results from f()
{f()}              -- creates a list with all results from f()
{...}              -- creates a list with all vararg parameters
{f(), nil}         -- f() is adjusted to 1 result
```
Any expression enclosed in parentheses always results in only one value. 
Thus, (f(x,y,z)) is always a single value, even if f returns several values. 
(The value of (f(x,y,z)) is the first value returned by f or nil if f does not return any values.)
